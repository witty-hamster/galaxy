# 队列 Queue

## 1. 什么是队列？

- 队列是一个 **<mark>有序列表</mark>**，可以用 **<mark>数组</mark>** 或者 **<mark>链表</mark>** 来实现
  
  - 数组结构的队列：属于顺序存储结构
  - 链表结构的队列：属于链式存储结构

## 2. 队列遵循的原则

> 先进先出的原则

- 什么是先进先出原则？
  
  - 先存入队列的数据，要先取出
  
  - 后存入队列的数据，要后取出

## 3. 队列模型

### 3.1 基于数组结构的队列模型

![](http://witty-hamster.gitee.io/draw-bed/数据结构与算法/【数据结构】基于数组结构的队列模型（入队、出队）.png)

- 模型解析：
  
  - MaxSize：是该队列的最大容量
  
  - front：表示队列的头指针，用于指定出队数据的前一个索引位置
    
    - front的值，会随着数据输出而改变
  
  - rear：表示队列的尾指针，用于指定入队数据的索引位置
    
    - rear的值，会随着数据输入而改变

- 注意点：
  
  - 队列溢出现象：rear >= maxsize
  
  - 空队列：rear = -1、front = -1
  
  - 满队：front = -1、rear = maxsize - 1

- 劣势：
  
  - 该模型不适合复用，当 rear【队尾指针】= maxSize - 1 时，就将停止入队操作
  
  - 造成已有资源的浪费

### 3.2 基于数组结构的环形队列模型

> 前提：我们实际定义的队列中存储的 `元素个数 = 数组大小 - 1` 个元素。对于环形队列来说，我们需要预留一个空位置，保证 rear 转一圈之后不会和 front 相等。
> 
> - 如果相等，则表明这个队列是不可用的，会有数据溢出的情况

该模型，是基于数据结构队列模型的优化方案，通过 `加一取模` 方式，形成环形数组队列。

- 模型分析：
  
  - MaxSize：是队列的最大元素个数 + 1，对应的是最大数组容量
  
  - front：表示队列头指针
    
    - front 指向队列的第一个元素
    
    - arr[front] 就是队列的第一个实际元素
    
    - front 的初始值为 0
  
  - rear：表示队列尾指针
    
    - rear 指向队列的最后一个元素的后一个位置【对于环形数组队列，我们有一个约定，空出一个元素空间位置，用于数据环形写入】
    
    - rear 的初始值为 0

- 注意点：
  
  - 空队列：$rear = front$
  
  - 满队列：$(rear + 1)\ \%\ maxSize = front$
  
  - 队列中有效元素个数：$(rear + maxSize - front)\ \%\ maxSize$
    
    - 有效元素个数公式由来【自己思考版本】：
      
      - 以数组最大容量为基础
      
      - $rear - front$ 
        
        - 差值为 <mark>正数</mark> 时，为有效元素实际数量，在此基础上 累加数组最大容量，再通过对数组最大容量取余，不会对原有的数据产生影响，依旧还是 $rear - front$ 正数差值。
        
        - 差值为 <mark>负数</mark> 时，在该差值基础上累加数组最大容量，即为获取到的有效元素个数，累加后的值必然小于数组最大容量值，在其基础上堆数组最大容量取余，还是得到这个累加后的值。
